openapi: 3.0.3
info:
  title: VitoTech Website API
  version: 1.0.0
  description: API ya VitoTech Website (notifications, contact messages, n.k.)
paths:
  /api/auth/change-password/:
    post:
      operationId: auth_change_password_create
      description: Change password for the currently authenticated user.
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ChangePassword'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ChangePassword'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ChangePassword'
        required: true
      security:
      - jwtAuth: []
      - BearerAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChangePassword'
          description: ''
  /api/auth/change-username/:
    post:
      operationId: auth_change_username_create
      description: Change username for the currently authenticated user.
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ChangeUsername'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/ChangeUsername'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/ChangeUsername'
        required: true
      security:
      - jwtAuth: []
      - BearerAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChangeUsername'
          description: ''
  /api/auth/create-admin/:
    post:
      operationId: auth_create_admin_create
      description: Create another admin user (is_staff + is_superuser).
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AdminCreate'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/AdminCreate'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/AdminCreate'
        required: true
      security:
      - jwtAuth: []
      - BearerAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AdminCreate'
          description: ''
  /api/auth/token/:
    post:
      operationId: auth_token_create
      description: |-
        Takes a set of user credentials and returns an access and refresh JSON web
        token pair to prove the authentication of those credentials.
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenObtainPair'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TokenObtainPair'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TokenObtainPair'
        required: true
      security:
      - BearerAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenObtainPair'
          description: ''
  /api/auth/token/refresh/:
    post:
      operationId: auth_token_refresh_create
      description: |-
        Takes a refresh type JSON web token and returns an access type JSON web
        token if the refresh token is valid.
      tags:
      - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TokenRefresh'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/TokenRefresh'
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/TokenRefresh'
        required: true
      security:
      - BearerAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenRefresh'
          description: ''
  /api/notifications/:
    get:
      operationId: notifications_list
      description: |-
        Contact messages API.

        Public:
          - POST /api/notifications/             -> create (website contact form)

        Admin (JWT + is_staff):
          - GET  /api/notifications/             -> list
          - GET  /api/notifications/{id}/        -> retrieve
          - PATCH/PUT /api/notifications/{id}/   -> update
          - DELETE /api/notifications/{id}/      -> delete
          - POST /api/notifications/{id}/mark_read/
          - POST /api/notifications/{id}/mark_unread/
          - GET  /api/notifications/stats/       -> total, read, unread
      tags:
      - notifications
      security:
      - jwtAuth: []
      - BearerAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Notification'
          description: ''
    post:
      operationId: notifications_create
      description: |-
        Contact messages API.

        Public:
          - POST /api/notifications/             -> create (website contact form)

        Admin (JWT + is_staff):
          - GET  /api/notifications/             -> list
          - GET  /api/notifications/{id}/        -> retrieve
          - PATCH/PUT /api/notifications/{id}/   -> update
          - DELETE /api/notifications/{id}/      -> delete
          - POST /api/notifications/{id}/mark_read/
          - POST /api/notifications/{id}/mark_unread/
          - GET  /api/notifications/stats/       -> total, read, unread
      tags:
      - notifications
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Notification'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Notification'
        required: true
      security:
      - jwtAuth: []
      - BearerAuth: []
      - {}
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Notification'
          description: ''
  /api/notifications/{id}/:
    get:
      operationId: notifications_retrieve
      description: |-
        Contact messages API.

        Public:
          - POST /api/notifications/             -> create (website contact form)

        Admin (JWT + is_staff):
          - GET  /api/notifications/             -> list
          - GET  /api/notifications/{id}/        -> retrieve
          - PATCH/PUT /api/notifications/{id}/   -> update
          - DELETE /api/notifications/{id}/      -> delete
          - POST /api/notifications/{id}/mark_read/
          - POST /api/notifications/{id}/mark_unread/
          - GET  /api/notifications/stats/       -> total, read, unread
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Contact Message.
        required: true
      tags:
      - notifications
      security:
      - jwtAuth: []
      - BearerAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Notification'
          description: ''
    put:
      operationId: notifications_update
      description: |-
        Contact messages API.

        Public:
          - POST /api/notifications/             -> create (website contact form)

        Admin (JWT + is_staff):
          - GET  /api/notifications/             -> list
          - GET  /api/notifications/{id}/        -> retrieve
          - PATCH/PUT /api/notifications/{id}/   -> update
          - DELETE /api/notifications/{id}/      -> delete
          - POST /api/notifications/{id}/mark_read/
          - POST /api/notifications/{id}/mark_unread/
          - GET  /api/notifications/stats/       -> total, read, unread
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Contact Message.
        required: true
      tags:
      - notifications
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Notification'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Notification'
        required: true
      security:
      - jwtAuth: []
      - BearerAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Notification'
          description: ''
    patch:
      operationId: notifications_partial_update
      description: |-
        Contact messages API.

        Public:
          - POST /api/notifications/             -> create (website contact form)

        Admin (JWT + is_staff):
          - GET  /api/notifications/             -> list
          - GET  /api/notifications/{id}/        -> retrieve
          - PATCH/PUT /api/notifications/{id}/   -> update
          - DELETE /api/notifications/{id}/      -> delete
          - POST /api/notifications/{id}/mark_read/
          - POST /api/notifications/{id}/mark_unread/
          - GET  /api/notifications/stats/       -> total, read, unread
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Contact Message.
        required: true
      tags:
      - notifications
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/PatchedNotification'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/PatchedNotification'
      security:
      - jwtAuth: []
      - BearerAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Notification'
          description: ''
    delete:
      operationId: notifications_destroy
      description: |-
        Contact messages API.

        Public:
          - POST /api/notifications/             -> create (website contact form)

        Admin (JWT + is_staff):
          - GET  /api/notifications/             -> list
          - GET  /api/notifications/{id}/        -> retrieve
          - PATCH/PUT /api/notifications/{id}/   -> update
          - DELETE /api/notifications/{id}/      -> delete
          - POST /api/notifications/{id}/mark_read/
          - POST /api/notifications/{id}/mark_unread/
          - GET  /api/notifications/stats/       -> total, read, unread
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Contact Message.
        required: true
      tags:
      - notifications
      security:
      - jwtAuth: []
      - BearerAuth: []
      responses:
        '204':
          description: No response body
  /api/notifications/{id}/mark_read/:
    post:
      operationId: notifications_mark_read_create
      description: |-
        Contact messages API.

        Public:
          - POST /api/notifications/             -> create (website contact form)

        Admin (JWT + is_staff):
          - GET  /api/notifications/             -> list
          - GET  /api/notifications/{id}/        -> retrieve
          - PATCH/PUT /api/notifications/{id}/   -> update
          - DELETE /api/notifications/{id}/      -> delete
          - POST /api/notifications/{id}/mark_read/
          - POST /api/notifications/{id}/mark_unread/
          - GET  /api/notifications/stats/       -> total, read, unread
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Contact Message.
        required: true
      tags:
      - notifications
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Notification'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Notification'
        required: true
      security:
      - jwtAuth: []
      - BearerAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Notification'
          description: ''
  /api/notifications/{id}/mark_unread/:
    post:
      operationId: notifications_mark_unread_create
      description: |-
        Contact messages API.

        Public:
          - POST /api/notifications/             -> create (website contact form)

        Admin (JWT + is_staff):
          - GET  /api/notifications/             -> list
          - GET  /api/notifications/{id}/        -> retrieve
          - PATCH/PUT /api/notifications/{id}/   -> update
          - DELETE /api/notifications/{id}/      -> delete
          - POST /api/notifications/{id}/mark_read/
          - POST /api/notifications/{id}/mark_unread/
          - GET  /api/notifications/stats/       -> total, read, unread
      parameters:
      - in: path
        name: id
        schema:
          type: integer
        description: A unique integer value identifying this Contact Message.
        required: true
      tags:
      - notifications
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/Notification'
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/Notification'
        required: true
      security:
      - jwtAuth: []
      - BearerAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Notification'
          description: ''
  /api/notifications/stats/:
    get:
      operationId: notifications_stats_retrieve
      description: |-
        GET /api/notifications/stats/

        Example response:
        {
          "total": 10,
          "read": 6,
          "unread": 4
        }
      tags:
      - notifications
      security:
      - jwtAuth: []
      - BearerAuth: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Notification'
          description: ''
components:
  schemas:
    AdminCreate:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        username:
          type: string
          description: Required. 150 characters or fewer. Letters, digits and @/./+/-/_
            only.
          pattern: ^[\w.@+-]+$
          maxLength: 150
        email:
          type: string
          format: email
          title: Email address
          maxLength: 254
        first_name:
          type: string
          maxLength: 150
        last_name:
          type: string
          maxLength: 150
        password:
          type: string
          writeOnly: true
          minLength: 6
      required:
      - id
      - password
      - username
    BlankEnum:
      enum:
      - ''
    ChangePassword:
      type: object
      properties:
        current_password:
          type: string
          writeOnly: true
        new_password:
          type: string
          writeOnly: true
          minLength: 6
      required:
      - current_password
      - new_password
    ChangeUsername:
      type: object
      properties:
        username:
          type: string
          maxLength: 150
      required:
      - username
    Notification:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          title: Full Name
          maxLength: 150
        email:
          type: string
          format: email
          title: Business Email
          maxLength: 254
        phone:
          type: string
          title: Phone Number
          maxLength: 30
        company:
          type: string
          title: Company/Organization
          maxLength: 150
        service:
          title: Service Interested In
          oneOf:
          - $ref: '#/components/schemas/ServiceEnum'
          - $ref: '#/components/schemas/BlankEnum'
        message:
          type: string
        attachment:
          type: string
          format: uri
          nullable: true
          title: Attachment File
          description: Uploaded file (max 5MB)
          pattern: (?:pdf|doc|docx|ppt|pptx|zip|jpg|jpeg|png)$
        is_read:
          type: boolean
          readOnly: true
          title: Read
        read_at:
          type: string
          format: date-time
          readOnly: true
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
      required:
      - created_at
      - email
      - id
      - is_read
      - message
      - name
      - read_at
      - updated_at
    PatchedNotification:
      type: object
      properties:
        id:
          type: integer
          readOnly: true
        name:
          type: string
          title: Full Name
          maxLength: 150
        email:
          type: string
          format: email
          title: Business Email
          maxLength: 254
        phone:
          type: string
          title: Phone Number
          maxLength: 30
        company:
          type: string
          title: Company/Organization
          maxLength: 150
        service:
          title: Service Interested In
          oneOf:
          - $ref: '#/components/schemas/ServiceEnum'
          - $ref: '#/components/schemas/BlankEnum'
        message:
          type: string
        attachment:
          type: string
          format: uri
          nullable: true
          title: Attachment File
          description: Uploaded file (max 5MB)
          pattern: (?:pdf|doc|docx|ppt|pptx|zip|jpg|jpeg|png)$
        is_read:
          type: boolean
          readOnly: true
          title: Read
        read_at:
          type: string
          format: date-time
          readOnly: true
          nullable: true
        created_at:
          type: string
          format: date-time
          readOnly: true
        updated_at:
          type: string
          format: date-time
          readOnly: true
    ServiceEnum:
      enum:
      - AI Services
      - Website Development
      - Mobile App Development
      - Branding & Design
      - Bulk SMS Integration
      - IT Consulting
      - Other
      type: string
      description: |-
        * `AI Services` - AI Services
        * `Website Development` - Website Development
        * `Mobile App Development` - Mobile App Development
        * `Branding & Design` - Branding & Design
        * `Bulk SMS Integration` - Bulk SMS Integration
        * `IT Consulting` - IT Consulting
        * `Other` - Other
    TokenObtainPair:
      type: object
      properties:
        username:
          type: string
          writeOnly: true
        password:
          type: string
          writeOnly: true
        access:
          type: string
          readOnly: true
        refresh:
          type: string
          readOnly: true
      required:
      - access
      - password
      - refresh
      - username
    TokenRefresh:
      type: object
      properties:
        access:
          type: string
          readOnly: true
        refresh:
          type: string
          writeOnly: true
      required:
      - access
      - refresh
  securitySchemes:
    jwtAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
